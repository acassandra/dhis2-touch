<div padding-top>
  <div style="display: inline-block;width: 49.3%">
    <span *ngIf="!hasEventDatesLabel(programStage.executionDateLabel)">{{ translationMapper['Report date'] }}</span>
    <span *ngIf="hasEventDatesLabel(programStage.executionDateLabel)">{{ programStage.executionDateLabel }}</span>
    <span class="required">*</span>
    <div class="input-field-container">
      <ion-item>
        <ion-datetime doneText="Update" [(ngModel)]="currentOpenEvent['eventDate']" placeholder="Touch to pick date" displayFormat="YYYY-MM-DD"
          pickerFormat="YYYY MM DD"></ion-datetime>
      </ion-item>
    </div>
  </div>
  <div style="display: inline-block;width: 49.3%">
    <span *ngIf="!hasEventDatesLabel(programStage.dueDateLabel)"> {{ translationMapper['Due date'] }}</span>
    <span *ngIf="hasEventDatesLabel(programStage.dueDateLabel)">{{ programStage.dueDateLabel }}</span>
    <div class="input-field-container">
      <ion-item>
        <ion-datetime doneText="Update" [(ngModel)]="currentOpenEvent['dueDate']" placeholder="{{ translationMapper['Touch to pick date'] }}"
          displayFormat="YYYY-MM-DD" pickerFormat="YYYY MM DD"></ion-datetime>
      </ion-item>
    </div>
  </div>
</div>
<div *ngIf="currentOpenEvent['eventDate'] && currentOpenEvent['eventDate'] !=''">
  <div *ngIf="(programStage && programStage.programStageDataElements && programStage.programStageDataElements.length > 0)">
    <div *ngIf="formLayout === 'customLayout' && programStage && programStage.dataEntryForm && programStage.dataEntryForm !== '' ">
      <custom-data-entry-form [entryFormType]="entryFormType" [dataEntryFormDesign]="programStage.dataEntryForm" [data]="dataObject"
        [dataUpdateStatus]="dataUpdateStatus" [programStageDataElements]="programStage.programStageDataElements" [programStageId]="programStage.id"
        (onCustomFormInputChange)="updateData($event)"></custom-data-entry-form>
    </div>
    <div *ngIf="!(formLayout === 'customLayout' && programStage && programStage.dataEntryForm && programStage.dataEntryForm !== '' )">
      <div *ngIf="programStage.programStageSections && programStage.programStageSections  && programStage.programStageSections.length > 0">
        <div *ngFor="let programStageSection of programStage.programStageSections;trackBy: trackByFn" padding-bottom>
          <table width="100%">
            <tbody>
              <tr>
                <td [ngStyle]="{'background-color': '#F4F4F4'}">
                  {{ programStageSection.displayName }}
                </td>
              </tr>
              <tr *ngIf="programStageSection.dataElements">
                <td>
                  <div text-left>
                    <div *ngFor="let dataElement of programStageSection.dataElements;trackBy: trackByFn">
                      <event-input-container [dataElement]="dataElement" [currentUser]="currentUser" [data]="dataObject" [(dataValuesSavingStatusClass)]="dataValuesSavingStatusClass"
                        [mandatory]="'false'" (onChange)="updateData($event)"></event-input-container>
                    </div>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <div *ngIf="programStage.programStageSections && programStage.programStageSections  && programStage.programStageSections.length == 0">
        <div *ngIf="programStage && programStage.programStageDataElements && programStage.programStageDataElements.length > 0 ">
          <div *ngFor="let programStageDataElement of programStage.programStageDataElements;trackBy: trackByFn">
            <div *ngIf="programStageDataElement.dataElement && programStageDataElement.dataElement.id">
              <event-input-container [dataElement]="programStageDataElement.dataElement" [currentUser]="currentUser" [data]="dataObject"
                [(dataValuesSavingStatusClass)]="dataValuesSavingStatusClass" [mandatory]="programStageDataElement.compulsory"
                (onChange)="updateData($event)"></event-input-container>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div *ngIf="!(programStage && programStage.programStageDataElements && programStage.programStageDataElements.length > 0)">
    <div *ngIf="currentOpenEvent['eventDate'] && currentOpenEvent['eventDate'] !=''">
      <notification [message]="translationMapper['Contact your help desk to add data elements on this stage']"></notification>
    </div>
  </div>
</div>
